#pragma once

#include "types.h"
#include "gen.h"

typedef struct {
    enum { ImmValue_Number, ImmValue_String } type;
    union { char number[128]; String string; } body;
} ImmValue;

typedef struct {
    char name[16];
    bool left_arg;
    bool right_arg;
    u32 priority;
} Operator;

typedef struct {
    enum { AstNode_Operator, AstNode_Imm } type;
    union {
        struct { Operator operator; AstNode* left; AstNode* right; } operator;
        ImmValue imm;
    } body;
} AstNode;

